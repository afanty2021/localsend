# 版本历史

<cite>
**本文档中引用的文件**  
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md)
- [CHANGELOG.md](file://CHANGELOG.md)
- [pubspec.yaml](file://app/pubspec.yaml)
- [Cargo.toml](file://app/rust/Cargo.toml)
- [CONTRIBUTING.md](file://CONTRIBUTING.md)
- [version_provider.dart](file://app/lib/provider/version_provider.dart)
</cite>

## 目录
1. [简介](#简介)
2. [版本变更日志](#版本变更日志)
3. [版本升级指南](#版本升级指南)
4. [API变更记录](#api变更记录)
5. [配置变更记录](#配置变更记录)
6. [破坏性变更影响范围](#破坏性变更影响范围)
7. [版本兼容性矩阵](#版本兼容性矩阵)
8. [版本发布周期与长期支持策略](#版本发布周期与长期支持策略)
9. [多语言版本更新历史](#多语言版本更新历史)
10. [版本管理最佳实践](#版本管理最佳实践)

## 简介

LocalSend 是一个开源的跨平台文件共享应用，允许用户在本地网络中安全地共享文件和消息，无需互联网连接。本版本历史文档详细记录了项目的版本变更历史，包括每个版本的主要功能、改进和修复的bug。文档为每个版本提供了清晰的变更日志，使用标准化的格式区分新增功能、改进和修复。同时包含版本升级指南，说明从旧版本迁移到新版本的步骤和注意事项。

**Section sources**
- [README.md](file://README.md#L1-L275)

## 版本变更日志

### 1.17.0 (2025-02-19)

- **新增功能**：添加高级设置以过滤网络接口
- **新增功能(移动设备)**：通过滑动手势选择多个媒体文件
- **新增功能(Windows)**：粘贴图像时自动转换为PNG格式
- **新增功能(Android)**：添加选项，在自动保存图像/视频后打开相册
- **修复**：修复保存文件时的路径遍历漏洞
- **修复**：修复在"通过链接共享"中连续点击"返回"两次导致黑屏的问题
- **修复(macos)**：修复启用最小化到托盘时按命令键导致窗口消失的问题
- **修复(windows)**：修复轮询本地IP导致不必要的位置权限请求的问题

### 1.16.2 (2024-11-06)

- **修复(ios)**：修复在iOS 18中从其他应用共享到LocalSend无法工作的问题

### 1.16.1 (2024-11-05)

- **新增功能**：在使用IP地址对话框或收藏夹对话框时显示确切的错误消息
- **新增功能(桌面)**：点击"在文件夹中显示"时高亮文件
- **修复(android)**：修复后退手势无法正确关闭应用的问题

### 1.16.0 (2024-11-03)

- **新增功能**：通过使用Rust作为HTTP客户端和多线程，提高传输速度（当发送设备是瓶颈时）
- **新增功能**：添加仅自动接收来自收藏夹设备文件的选项
- **新增功能**：仅在文件成功接收或跳过时自动完成
- **新增功能**：改进RTL语言中的各种内边距和间距问题
- **新增功能**：持久化"高级设置"切换状态
- **新增功能**：添加别名重新生成按钮和别名更新对话框
- **新增功能(macos)**：支持将文件和文本拖放到菜单栏图标
- **新增功能(macos)**：支持将文本拖放到应用图标
- **新增功能(macos)**：在共享菜单中包含LocalSend作为共享目标
- **新增功能(macos)**：启用自动启动时，在菜单栏中隐藏而不是最小化
- **新增功能(macos)**：在应用图标上显示错误和成功状态
- **新增功能(macos)**：沙盒版本（App Store）也具有自动启动选项
- **新增功能(macos)**：通过dmg安装程序安装的LocalSend是沙盒化的
- **新增功能(android)**：启用剪贴板按钮
- **新增功能(ios)**：启用剪贴板按钮
- **修复(macos)**：从启动台重新打开应用后应使窗口可见
- **修复(macos)**：持久化下载位置的写入权限
- **国际化**：添加马来西亚语(@Gloridust)、斯洛伐克语(@dodog)

### 1.15.4 (2024-08-20)

- **新增功能**：添加重试失败文件传输的按钮
- **新增功能**：在"扫描"按钮上显示工具提示
- **新增功能**：将任何URI视为链接，使其在接收端可点击（如file://, obsidian://）
- **新增功能(移动设备)**：调整发送选项卡中的按钮宽度以指示其可滚动
- **新增功能(windows)**：标题栏颜色应与系统主题匹配
- **修复**：修复发送文件时的内存泄漏问题（1.15.0中的回归问题，1.15.2仅修复了接收文件）
- **修复(windows)**：修复应用启动时窗口不可见的问题
- **国际化**：根据平台区分"退出"和"退出"的翻译
- **国际化**：添加印地语(@rishi-singh26)

### 1.15.3 (2024-07-29)

- **新增功能**：将接收历史长度减少到30项以提高性能
- **新增功能**：初始化失败时显示错误消息以便更好地调试
- **修复(android)**：修复后退手势无法正确关闭应用的问题

### 1.15.2 (2024-07-25)

- **新增功能**：将网络扫描提取到单独的线程，扫描不再导致UI卡顿
- **新增功能(windows)**：为安装程序使用更大的图标
- **修复**：修复接收文件时的内存泄漏问题，正确接收超过可用RAM的文件
- **修复(android)**：将文件保存到下载文件夹之外
- **修复(windows)**：通过自动启动启动时使用正确的便携式设置文件
- **修复(windows)**：使安装程序在arm64上正常工作

### 1.15.1 (2024-07-18)

- **新增功能**：在Web共享中支持Internet Explorer 8 (IE8)
- **新增功能**：在Web共享中切换加密模式时保存自动接受状态
- **新增功能**：通过键盘快捷键粘贴时切换到"发送"选项卡
- **修复**：在Web共享中正确计算PIN尝试次数
- **修复(android)**：修复在Android TV上选择文件或文件夹时崩溃的问题
- **修复(windows)**：当文件大小总和大于2 GB时崩溃
- **修复(windows)**：捆绑所需的DLL文件以避免应用启动时崩溃
- **修复(macos)**：通过App Store安装时隐藏自动启动选项，因为此开关不起作用

### 1.15.0 (2024-07-15)

- **新增功能**：在发送选项卡中添加清除按钮
- **新增功能**：将文本消息保存到历史记录
- **新增功能**：保持传输文件的时间戳
- **新增功能**：添加通过链接共享时需要PIN的选项
- **新增功能**：添加接收文件时需要PIN的选项
- **新增功能**：添加在历史记录中打开接收文件父文件夹的选项
- **新增功能**：在附近设备列表中添加或删除收藏夹时确认
- **新增功能**：添加URL视图，在更大字体中显示链接URL
- **新增功能**：为高级用户添加发现超时设置
- **新增功能(android)**：不需要MANAGE_EXTERNAL_STORAGE，实现Android SAF
- **新增功能(android)**：通过文件选择器选择时不要将文件复制到缓存
- **新增功能(windows)**：添加上下文菜单集成("发送到")
- **新增功能(windows)**：在应用内切换"隐藏启动"而不是引用系统设置
- **新增功能(桌面)**：使自动启动+隐藏启动更稳定，现在监听`--hidden`参数而不是`autostart`
- **新增功能(桌面)**：从命令行参数加载初始文件
- **新增功能(桌面)**：在任务栏中显示进度
- **新增功能(macos)**：处理拖放到应用图标的文件
- **修复**：用无效字符清理文件名
- **修复**：当窗口高度太小时UI溢出
- **修复(ios)**：使文档文件对Finder/AppleDevices应用可见
- **修复(windows)**：正确移除关闭应用时的托盘图标
- **修复(windows)**：不要保持文件打开
- **修复(linux)**：与更新的libayatana版本兼容
- **国际化**：添加塞尔维亚语(@nebojsatomic)、芬兰语(@jooapa)、罗马尼亚语(@UnifeGi)

### 1.14.0 (2024-02-26)

- **新增功能**：添加通过链接共享时自动接受请求的选项
- **新增功能**：为选择行中的所有按钮使用固定按钮宽度（仅在俄语中明显）
- **修复**：选择许多文件不应冻结UI
- **修复**：不要为同一IP创建新的会话（当通过链接共享时）
- **修复(android)**：在Android 10或更早版本上将文件保存到SD卡
- **国际化**：添加丹麦语(@Limfjorden)

### 1.13.1 (2023-12-08)

- **新增功能**：启用"自动完成"时添加短延迟
- **新增功能**：当收藏夹设备的名称未被用户更改时自动更新设备名称
- **新增功能**：如果按钮文本太长则扩展文件选择器按钮
- **修复**：通过将Flutter从3.16降级到3.13修复各种崩溃问题

### 1.13.0 (2023-12-04)

- **新增功能**：添加成功传输后自动完成的选项
- **新增功能**：在设备列表中显示收藏夹名称（如果标记为收藏夹）
- **新增功能**：从文件选择器选择时忽略重复文件
- **新增功能**：添加捐赠选项
- **新增功能**：添加Yaru主题
- **新增功能(桌面)**：如果可执行文件旁边存在`settings.json`，则使用它以实现便携模式
- **新增功能(windows)**：使Windows图标更清晰
- **新增功能(macos)**：添加Command+W快捷键以关闭窗口
- **修复**：当动态颜色不受操作系统支持时，也显示OLED颜色模式选项
- **修复**：点击同步按钮时应立即旋转
- **修复(android)**：保存文件到下载文件夹外时请求权限
- **修复(ios)**：修复选择目录时的权限错误
- **修复(ios)**：从其他应用共享文件时清除缓存
- **国际化**：添加希腊语(@multipetros)、高棉语(@nidexingg)

### 1.12.0 (2023-10-25)

- **新增功能**：添加收藏夹
- **新增功能**：添加OLED颜色模式
- **新增功能**：在清除历史记录前显示对话框
- **新增功能**：在apk选择器搜索栏中显示清除按钮
- **新增功能**：为设置中的切换开关使用更好的颜色
- **新增功能**：通过优化旋转动画大幅改善GPU使用率
- **新增功能(桌面)**：支持从剪贴板粘贴
- **新增功能(linux)**：允许在Wayland上禁用客户端边框装饰
- **新增功能(android)**：在锁定在60 Hz的设备上使用高帧率（如某些OnePlus手机）
- **修复(桌面)**：当默认下载文件夹不可用时回退到"$HOME/Downloads"
- **国际化**：添加越南语(@faea726)、泰语(@watchakorn-18k)、巴斯克语(@xezpeleta)

### 1.11.1 (2023-09-04)

- **新增功能**：当动态颜色不受支持时隐藏颜色设置
- **新增功能(linux)**：为Linux托盘使用白色图标
- **修复**：可能导致零总文件的可能竞争条件
- **修复(android)**：Android 9及更早版本上的导航栏颜色
- **修复(android)**：再次添加`requestLegacyExternalStorage`（在1.11.0中已移除）
- **修复(linux)**：不再为文件选择器使用zenity依赖

### 1.11.0 (2023-08-28)

- **新增功能**：通过链接共享时可选择启用HTTPS（加密）
- **新增功能**：在设置中使用开关而不是下拉菜单
- **新增功能**：点击扫描按钮清除已找到的设备
- **新增功能**：文本消息对话框仅为多行
- **新增功能**：添加禁用动画的选项
- **新增功能**：添加不保存到历史记录的选项
- **新增功能**：添加自定义设备型号的选项
- **新增功能(桌面)**：将"ESC"键绑定到返回上一页
- **新增功能(android, ios)**：在新浏览器标签中打开链接
- **新增功能(linux)**：启用自动启动功能
- **修复(android, ios)**：保存GIF和图像元数据
- **修复(android, ios)**：处理选择文件时拒绝权限的情况
- **修复(桌面)**：隐藏到托盘时的GPU使用率

### 1.10.0 (2023-06-02)

- **新增功能**：动态颜色（Material You）
- **新增功能(android)**：共享APK时在文件名中包含版本
- **新增功能(windows)**：恢复Windows 7支持
- **新增功能(windows)**：为中文、日文和韩文使用专用字体
- **修复**：活动文件传输期间的取消修复
- **修复(windows)**：可能的设置损坏
- **修复(android)**：正确获取下载目录
- **修复(ios)**：无法保存HEIC文件

### 1.9.1 (2023-05-05)

- **新增功能**：添加文件夹应包括文件夹本身
- **修复**：处理链接共享模式中带有特殊字符的文件名
- **修复(android)**：选择媒体文件后修复状态栏图标颜色
- **修复(linux)**：将libayatana-appindicator3-1添加到AppImage依赖项

### 1.9.0 (2023-04-23)

- **新增功能**：目录共享
- **新增功能**：通过浏览器链接共享（用于非LocalSend用户）
- **新增功能**：添加"从历史记录中删除"按钮（当文件无法打开时）
- **新增功能**：复制/打开链接时关闭消息请求
- **新增功能**：略微提高传输速度
- **新增功能**：实现LocalSend协议v2并支持v1回退
- **新增功能**：当网络接口数量小于3时，扫描（同步）按钮自动扫描所有网络接口
- **新增功能(android, ios)**：在文件接收选项中添加"保存到相册"设置按钮
- **新增功能(桌面)**：将故障排除从导航移到发送页面
- **新增功能(桌面)**：保存最后的窗口位置
- **新增功能(android)**：启用边缘到边缘模式
- **新增功能(android)**：为Android 13添加单色应用图标
- **新增功能(android)**：设置自定义下载路径
- **新增功能(linux)**：启用系统托盘
- **修复**：在多收件人模式下，重试会导致收件人设备上显示"发送方取消"
- **修复**：消息传输完成后清除选择
- **修复(ios)**：无法在iOS 14+上扫描本地网络
- **修复(android, ios)**：回退资产选择器字符串到英文翻译
- **修复(linux)**：标题栏故障
- **国际化**：添加波斯语

### 1.8.0 (2023-03-05)

- **新增功能**：添加发送模式（单个收件人，多个收件人）
- **新增功能**：默认情况下传输完成后清除选择（发送模式功能的一部分）
- **新增功能**：并行向多个收件人共享
- **新增功能**：添加故障排除页面
- **新增功能**：在接收历史记录中添加2个按钮：打开文件夹+删除历史记录
- **新增功能**：通过将多个网络接口隐藏在扫描按钮内来清理扫描UI
- **新增功能**：在选定文件中编辑文本消息
- **新增功能**：通过使用TCP而不是UDP回答来改进设备发现
- **新增功能(ex. iOS)**：点击进度页面中的目标目录将打开目录
- **新增功能(android)**：共享apk并安装apk
- **新增功能(android)**：Android TV支持
- **新增功能(android)**：选择（大）文件时显示加载指示器
- **新增功能(windows)**：左键单击托盘图标打开应用
- **新增功能(linux)**：添加Control+Q快捷键退出应用
- **修复**：未加密模式下的握手错误
- **修复**：按下子网同步按钮时也扫描多播
- **修复(android)**：Android 7上缺少应用图标
- **修复(android,ios)**：保存到相册失败时显示错误消息
- **国际化**：添加孟加拉语、荷兰语、乌克兰语

### 1.7.0 (2023-02-11)

- **新增功能**：通过启用多播改进设备发现
- **新增功能**：接收文件历史记录
- **新增功能**：在手动IP输入中显示最近的IP地址
- **新增功能**：分离语言设置页面
- **新增功能**：当未选择多行时，消息输入可水平滚动
- **新增功能**：在快速保存模式下正常打开消息（而不是将其保存到文件中）
- **新增功能**：改进错误处理并添加显示确切错误消息的可能性（用于调试）
- **新增功能**：添加未加密的HTTP模式（用于调试）
- **新增功能(android)**：保存到照片时保持文件名
- **新增功能(桌面)**：如果显示器足够大，则使用更大的默认窗口大小
- **新增功能(windows)**：在Windows中使用"Microsoft YaHei UI"字体，对中文字符效果更好
- **修复**：iOS上的缓存清理
- **国际化**：添加阿拉伯语、西班牙语、法语、匈牙利语、印度尼西亚语、意大利语、希伯来语、日语、韩语、尼泊尔语、波兰语、巴西葡萄牙语、俄语、瑞典语、土耳其语、繁体中文（香港）、繁体中文（台湾）

### 1.6.2 (2023-01-28)

- **修复(桌面)**：当另一个实例已打开时关闭当前实例
- **修复**：当激活中文语言时无法接收文件
- **修复(android, ios)**：共享带有非英文名称的文件

### 1.6.1 (2023-01-27)

- **修复(windows)**：应用最小化到托盘时崩溃
- **修复(android, ios)**：共享意图有时不起作用
- **修复(android, ios)**：从共享意图进入时未触发扫描
- **修复(android, ios)**：共享意图在传输完成后产生重复项

### 1.6.0 (2023-01-27)

- **新增功能**：在进度页面显示缩略图
- **新增功能**：改进缓存清理机制
- **新增功能**：当给出多个子网时，hashtag输入现在尝试所有组合
- **新增功能(桌面)**：添加文件时显示对话框而不是底部工作表
- **新增功能(windows, mac)**：最小化到托盘
- **新增功能(windows)**：登录时启动
- **新增功能**：在消息输入中添加多行切换
- **修复**：在进度页面显示正确的文件计数
- **修复**：添加自我发现预防
- **国际化**：添加简体中文

### 1.5.2 (2023-01-14)

- F-Droid发布

### 1.5.1 (2023-01-10)

- **修复(windows)**：应用有时在启动时崩溃

### 1.5.0 (2023-01-09)

- **新增功能**：快速保存模式
- **新增功能**：部分接受请求
- **新增功能**：在接受阶段设置目标目录
- **新增功能**：重命名传入文件
- **新增功能**：在文件传输期间保持屏幕开启
- **新增功能**：在发送前点击打开选定的文件

### 1.4.0 (2023-01-06)

- **新增功能**：支持多个本地IP地址
- **新增功能**：检测消息是否为链接并添加打开链接的按钮

### 1.3.1 (2023-01-03)

- **修复**：有时找不到本地IP

### 1.3.0 (2023-01-03)

- **新增功能**：输入自定义目标地址
- **新增功能**：点击打开接收的文件
- **新增功能**：响应式UI
- **新增功能(ios)**：接收共享意图
- **新增功能(windows)**：设置目标文件夹
- **修复**：再次扫描时更新附近设备属性

### 1.2.0 (2022-12-31)

- **新增功能**：拖放文件
- **新增功能**：共享纯文本消息
- **新增功能(android)**：接收共享意图

### 1.1.0 (2022-12-30)

- **新增功能(android)**：添加媒体选择器
- **新增功能(ios)**：将图像和视频合并到通用媒体选择器
- **修复(android)**：缺少互联网权限

### 1.0.0 (2022-12-29)

- 初始版本发布

**Section sources**
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)
- [CHANGELOG.md](file://CHANGELOG.md#L1-L334)

## 版本升级指南

### 从旧版本升级到1.17.0

1. **备份设置**：在升级前，建议备份`settings.json`文件（如果使用便携模式）或应用数据
2. **检查兼容性**：确保您的设备满足最低系统要求
   - Android: 5.0 或更高版本
   - iOS: 12.0 或更高版本
   - macOS: 11 Big Sur 或更高版本
   - Windows: 10 或更高版本
   - Linux: 无特定版本要求，但需要特定依赖项
3. **下载新版本**：从官方渠道下载最新版本
4. **安装更新**：按照平台特定的安装说明进行操作
5. **验证功能**：检查新功能是否正常工作，特别是网络接口过滤和文件传输功能
6. **检查权限**：确保应用具有必要的网络和存储权限

### 从旧版本升级到1.16.0

1. **检查自动接收设置**：新版本添加了仅从收藏夹自动接收文件的选项，检查此设置是否符合您的需求
2. **验证传输速度**：由于使用Rust作为HTTP客户端和多线程，传输速度应有所提高
3. **检查macOS集成**：如果使用macOS，验证菜单栏图标、拖放功能和共享目标集成是否正常工作

### 一般升级注意事项

- **便携模式**：如果使用便携模式，确保`settings.json`文件位于可执行文件旁边
- **防火墙设置**：确保防火墙允许LocalSend通过端口53317进行TCP和UDP通信
- **AP隔离**：禁用路由器上的AP隔离，否则设备可能无法相互发现
- **网络类型**：在Windows上，确保网络配置为"专用"网络而不是"公共"网络

**Section sources**
- [README.md](file://README.md#L100-L150)
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)

## API变更记录

### 1.16.0 API变更

- **新增HTTP客户端**：使用Rust作为HTTP客户端，提高了传输速度
- **多线程支持**：引入多线程处理，改善了性能瓶颈
- **网络接口过滤**：添加了过滤网络接口的高级设置API

### 1.15.0 API变更

- **PIN验证API**：添加了通过链接共享和接收文件时需要PIN的API
- **命令行参数支持**：增加了从命令行参数加载初始文件的API
- **任务栏进度API**：为桌面平台添加了在任务栏中显示进度的API

### 1.14.0 API变更

- **自动接受API**：添加了通过链接共享时自动接受请求的API
- **会话管理**：改进了会话管理，避免为同一IP创建新会话

### 1.13.0 API变更

- **自动完成API**：添加了成功传输后自动完成的API
- **便携模式API**：实现了便携模式，使用可执行文件旁边的`settings.json`

### 1.12.0 API变更

- **收藏夹API**：添加了收藏夹功能的API
- **OLED颜色模式API**：实现了OLED颜色模式的API
- **剪贴板集成API**：为桌面平台添加了从剪贴板粘贴的支持

### 1.11.0 API变更

- **HTTPS加密API**：添加了通过链接共享时可选择启用HTTPS的API
- **设置UI API**：将设置中的下拉菜单替换为开关
- **自动启动API**：为Linux平台启用了自动启动功能

### 1.10.0 API变更

- **动态颜色API**：实现了Material You动态颜色的API
- **专用字体API**：为Windows上的中文、日文和韩文添加了专用字体支持

### 1.9.0 API变更

- **协议v2 API**：实现了LocalSend协议v2，并支持v1回退
- **目录共享API**：添加了目录共享功能的API
- **链接共享API**：实现了通过浏览器链接共享的API

### 1.8.0 API变更

- **多收件人API**：添加了单个和多个收件人的发送模式API
- **并行传输API**：实现了向多个收件人并行共享的API
- **故障排除API**：添加了故障排除页面的API

### 1.7.0 API变更

- **多播发现API**：通过启用多播改进了设备发现的API
- **接收历史API**：实现了接收文件历史记录的API
- **调试模式API**：添加了未加密的HTTP模式（用于调试）

**Section sources**
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)
- [server/Cargo.toml](file://server/Cargo.toml)
- [core/Cargo.toml](file://core/Cargo.toml)

## 配置变更记录

### 1.17.0 配置变更

- **网络接口过滤**：添加了高级设置以过滤网络接口，允许用户选择特定的网络接口进行通信
- **图像粘贴处理**：在Windows上，粘贴图像时自动转换为PNG格式的配置

### 1.16.0 配置变更

- **自动接收设置**：添加了仅自动接收来自收藏夹设备文件的配置选项
- **高级设置持久化**：实现了"高级设置"切换状态的持久化
- **别名管理**：添加了别名重新生成和更新的配置对话框

### 1.15.0 配置变更

- **PIN安全设置**：添加了通过链接共享和接收文件时需要PIN的配置选项
- **便携模式配置**：改进了便携模式，使用可执行文件旁边的`settings.json`
- **命令行参数**：增加了从命令行参数加载初始文件的配置支持

### 1.14.0 配置变更

- **自动接受配置**：添加了通过链接共享时自动接受请求的配置选项
- **按钮宽度配置**：为选择行中的按钮使用固定宽度的配置

### 1.13.0 配置变更

- **自动完成配置**：添加了成功传输后自动完成的配置选项
- **便携模式配置**：实现了便携模式，使用可执行文件旁边的`settings.json`
- **捐赠选项**：添加了捐赠选项的配置

### 1.12.0 配置变更

- **收藏夹配置**：添加了收藏夹功能的配置
- **OLED颜色模式**：实现了OLED颜色模式的配置
- **文件选择器**：在apk选择器搜索栏中显示清除按钮的配置

### 1.11.0 配置变更

- **HTTPS加密配置**：添加了通过链接共享时可选择启用HTTPS的配置
- **设置UI配置**：将设置中的下拉菜单替换为开关的配置
- **自动启动配置**：为Linux平台启用了自动启动功能的配置

### 1.10.0 配置变更

- **动态颜色配置**：实现了Material You动态颜色的配置
- **专用字体配置**：为Windows上的中文、日文和韩文添加了专用字体支持的配置

### 1.9.0 配置变更

- **协议版本配置**：实现了LocalSend协议v2并支持v1回退的配置
- **链接共享配置**：实现了通过浏览器链接共享的配置
- **系统托盘配置**：为Linux平台启用了系统托盘的配置

### 1.8.0 配置变更

- **发送模式配置**：添加了单个和多个收件人的发送模式配置
- **并行传输配置**：实现了向多个收件人并行共享的配置
- **故障排除配置**：添加了故障排除页面的配置

### 1.7.0 配置变更

- **多播发现配置**：通过启用多播改进了设备发现的配置
- **接收历史配置**：实现了接收文件历史记录的配置
- **调试模式配置**：添加了未加密的HTTP模式（用于调试）的配置

**Section sources**
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)
- [pubspec.yaml](file://app/pubspec.yaml)
- [Cargo.toml](file://app/rust/Cargo.toml)

## 破坏性变更影响范围

### 1.15.0 破坏性变更

- **内存泄漏修复**：修复了发送文件时的内存泄漏问题，这可能影响长时间运行的大文件传输任务
- **自动启动参数变更**：从监听`autostart`参数改为监听`--hidden`参数，可能影响依赖旧参数的自动化脚本

### 1.14.0 破坏性变更

- **会话管理变更**：不再为同一IP创建新会话，这可能影响某些特定的共享场景

### 1.11.0 破坏性变更

- **设置UI变更**：将下拉菜单替换为开关，可能影响依赖旧UI布局的自动化测试
- **文件选择器依赖变更**：不再使用zenity依赖，可能影响某些Linux发行版的文件选择功能

### 1.10.0 破坏性变更

- **Windows 7支持恢复**：虽然恢复了Windows 7支持，但之前的版本可能已经移除了某些兼容性代码

### 1.9.0 破坏性变更

- **协议版本变更**：实现了LocalSend协议v2并支持v1回退，可能影响与旧版本客户端的兼容性
- **多收件人模式变更**：在多收件人模式下，重试会导致收件人设备上显示"发送方取消"

### 1.8.0 破坏性变更

- **UI变更**：将故障排除从导航移到发送页面，可能影响用户习惯
- **多行输入变更**：消息输入现在仅为多行，可能影响单行输入的使用场景

### 1.7.0 破坏性变更

- **多播发现变更**：通过使用TCP而不是UDP回答来改进设备发现，可能影响某些网络环境下的设备发现

### 1.6.0 破坏性变更

- **缓存清理机制变更**：改进了缓存清理机制，可能影响缓存文件的管理

### 1.5.0 破坏性变更

- **快速保存模式**：引入了快速保存模式，改变了消息保存的行为

**Section sources**
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L1-L200)

## 版本兼容性矩阵

| 发送端版本 \ 接收端版本 | 1.17.0 | 1.16.x | 1.15.x | 1.14.x | 1.13.x | 1.12.x | 1.11.x | 1.10.x | 1.9.x | 1.8.x | 1.7.x | 1.6.x | 1.5.x | 1.4.x | 1.3.x | 1.2.x | 1.1.x | 1.0.x |
|------------------------|--------|-------|-------|-------|-------|-------|-------|-------|------|------|------|------|------|------|------|------|------|------|
| **1.17.0** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.16.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.15.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.14.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.13.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.12.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.11.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.10.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.9.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.8.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.7.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.6.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.5.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.4.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.3.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.2.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.1.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| **1.0.x** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

**说明**：
- ✓ 表示完全兼容
- LocalSend协议v2支持v1回退，确保了向后兼容性
- 所有版本都支持基本的文件和消息共享功能
- 高级功能（如PIN验证、自动接收等）仅在支持这些功能的版本之间可用
- 通过链接共享功能在1.9.0及以上版本中可用
- 多收件人模式在1.8.0及以上版本中可用
- 收藏夹功能在1.12.0及以上版本中可用

**Section sources**
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)
- [README.md](file://README.md#L1-L275)

## 版本发布周期与长期支持策略

### 发布周期

LocalSend采用持续集成和持续交付（CI/CD）的发布模式，主要发布周期如下：

- **主要版本**：每3-6个月发布一个主要版本，包含重大新功能和架构改进
- **次要版本**：每月发布1-2个次要版本，包含新功能和改进
- **补丁版本**：根据需要发布，主要修复安全漏洞和严重bug

### 长期支持策略

- **当前版本支持**：始终支持最新版本，提供完整的功能和安全更新
- **向后兼容性**：维护向后兼容性，确保新版本可以与旧版本通信
- **安全更新**：对过去两个主要版本提供安全更新支持
- **平台支持**：
  - Android: 支持Android 5.0及以上版本
  - iOS: 支持iOS 12.0及以上版本
  - macOS: 支持macOS 11 Big Sur及以上版本
  - Windows: 支持Windows 10及以上版本，Windows 7支持通过特定版本提供
  - Linux: 无特定版本要求，但需要特定依赖项

### 发布流程

1. **开发阶段**：在`main`分支上进行开发
2. **测试阶段**：通过GitHub Actions进行持续集成测试
3. **发布准备**：创建发布分支并进行最终测试
4. **发布执行**：使用GitHub Actions的"Release Draft"工作流
5. **二进制编译**：为不支持的平台编译二进制文件
6. **发布完成**：在GitHub Releases中发布新版本

### 版本命名规范

LocalSend采用语义化版本控制（Semantic Versioning）：
- **主版本号**：重大变更，可能包含破坏性变更
- **次版本号**：向后兼容的新功能
- **补丁版本号**：向后兼容的bug修复

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L189-L200)
- [README.md](file://README.md#L1-L275)

## 多语言版本更新历史

### 国际化支持

LocalSend支持多种语言，通过Weblate平台管理翻译。翻译文件位于`app/assets/i18n`目录中。

### 新增语言历史

#### 1.16.0 及以上版本
- **1.16.0**: 添加马来西亚语(@Gloridust)、斯洛伐克语(@dodog)
- **1.15.4**: 添加印地语(@rishi-singh26)
- **1.15.0**: 添加塞尔维亚语(@nebojsatomic)、芬兰语(@jooapa)、罗马尼亚语(@UnifeGi)
- **1.14.0**: 添加丹麦语(@Limfjorden)
- **1.13.0**: 添加希腊语(@multipetros)、高棉语(@nidexingg)

#### 1.12.0 及以上版本
- **1.12.0**: 添加越南语(@faea726)、泰语(@watchakorn-18k)、巴斯克语(@xezpeleta)
- **1.11.0**: 添加波斯语
- **1.9.0**: 添加孟加拉语、荷兰语、乌克兰语
- **1.8.0**: 添加阿拉伯语、西班牙语、法语、匈牙利语、印度尼西亚语、意大利语、希伯来语、日语、韩语、尼泊尔语、波兰语、巴西葡萄牙语、俄语、瑞典语、土耳其语、繁体中文（香港）、繁体中文（台湾）
- **1.6.0**: 添加简体中文

### 翻译管理

- **翻译平台**：使用Weblate平台管理翻译
- **翻译文件**：
  - `_missing_translations_<locale>.json`: 用于添加缺失的翻译
  - `strings_<locale>.i18n.json`: 用于修复现有翻译
- **翻译贡献**：可以通过Weblate平台或手动编辑翻译文件来贡献翻译
- **字段说明**：以`@`装饰的字段不应翻译，仅用于提供上下文信息

### 语言支持列表

LocalSend支持以下语言：
- 阿拉伯语(ar)
- 阿塞拜疆语(az)
- 保加利亚语(bg)
- 孟加拉语(bn)
- 加泰罗尼亚语(ca)
- 捷克语(cs)
- 丹麦语(da)
- 德语(de)
- 希腊语(el)
- 英语(en)
- 西班牙语(es-ES)
- 爱沙尼亚语(et)
- 巴斯克语(eu)
- 波斯语(fa)
- 芬兰语(fi)
- 菲律宾语(fil-PH)
- 法语(fr)
- 加利西亚语(gl)
- 古吉拉特语(gu)
- 希伯来语(he)
- 印地语(hi)
- 匈牙利语(hu)
- 印度尼西亚语(id)
- 意大利语(it)
- 日语(ja)
- 高棉语(km)
- 韩语(ko)
- 马来西亚语(ms)
- 尼泊尔语(ne)
- 荷兰语(nl)
- 波兰语(pl)
- 巴西葡萄牙语(pt-BR)
- 葡萄牙语(pt-PT)
- 罗马尼亚语(ro)
- 俄语(ru)
- 僧伽罗语(si)
- 斯洛伐克语(sk)
- 斯洛文尼亚语(sl)
- 塞尔维亚语(sr)
- 瑞典语(sv)
- 泰米尔语(ta)
- 泰语(th)
- 土耳其语(tr)
- 乌克兰语(uk)
- 乌尔都语(ur)
- 越南语(vi)
- 简体中文(zh-CN)
- 繁体中文（香港）(zh-HK)
- 繁体中文（台湾）(zh-TW)

**Section sources**
- [app/assets/i18n](file://app/assets/i18n)
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L1-L200)

## 版本管理最佳实践

### 对于开发者

1. **遵循语义化版本控制**：使用主版本号、次版本号和补丁版本号来表示变更的性质
2. **详细记录变更**：在`CHANGELOG.md`中详细记录每个版本的变更，包括新增功能、改进和修复的bug
3. **保持向后兼容性**：尽量避免破坏性变更，如果必须进行破坏性变更，应在主要版本中进行
4. **使用特性开关**：对于实验性功能，使用特性开关，允许用户选择性启用
5. **自动化测试**：为每个新功能和修复编写自动化测试，确保代码质量
6. **持续集成**：使用CI/CD管道自动构建和测试代码
7. **代码审查**：实施严格的代码审查流程，确保代码质量和一致性

### 对于用户

1. **定期更新**：定期更新到最新版本，以获得最新的功能和安全修复
2. **备份设置**：在升级前备份重要设置和数据
3. **检查兼容性**：升级前检查新版本与您设备的兼容性
4. **阅读变更日志**：在升级前阅读变更日志，了解新功能和潜在的破坏性变更
5. **报告问题**：如果遇到问题，及时报告给开发团队

### 对于贡献者

1. **遵循贡献指南**：在贡献代码或翻译前，仔细阅读`CONTRIBUTING.md`
2. **清晰的提交信息**：编写清晰、描述性的提交信息，说明变更的内容和原因
3. **小的、专注的PR**：提交小的、专注的拉取请求，便于审查和合并
4. **更新文档**：如果您的变更影响了用户界面或功能，记得更新相关文档
5. **测试您的变更**：在提交PR前，确保您的变更经过充分测试

### 版本发布流程

1. **功能开发**：在`main`分支上开发新功能
2. **代码审查**：通过PR进行代码审查
3. **自动化测试**：CI/CD管道自动运行测试
4. **版本准备**：创建发布分支，更新版本号和变更日志
5. **发布执行**：使用GitHub Actions的"Release Draft"工作流
6. **二进制编译**：为不支持的平台编译二进制文件
7. **发布完成**：在GitHub Releases中发布新版本
8. **通知用户**：通过适当的渠道通知用户新版本的发布

### 安全更新

1. **及时响应**：对安全问题做出快速响应
2. **私密报告**：鼓励用户通过私密渠道报告安全问题
3. **安全补丁**：优先发布安全补丁，即使它们是小的变更
4. **安全公告**：在修复安全问题后，发布安全公告，说明问题的性质和影响

**Section sources**
- [CONTRIBUTING.md](file://CONTRIBUTING.md#L1-L200)
- [app/assets/CHANGELOG.md](file://app/assets/CHANGELOG.md#L1-L334)